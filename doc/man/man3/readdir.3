.\"
.\" Copyright (C) 2011-2014 Pedro H. Penna <pedrohenriquepenna@gmail.com>
.\"
.\"=============================================================================
.\"
.TH readdir 3 "January 2014" "C Library" "The Nanvix User Programmer's Manual"
.\"
.\"=============================================================================
.\"
.SH NAME
.\"
readdir \- Reads a directory
.\"
.\"=============================================================================
.\"
.\"
.SH "SYNOPSIS"
.\"
.BI "#include <" "dirent.h" >

.BI "struct dirent *readdir(DIR *" dirp ");"
.\"
.\"=============================================================================
.\"
.SH "DESCRIPTION"
.\"
The 
.BR readdir()
function returns a pointer to a structure representing the directory entry
at the current position in the directory stream pointed to by
.IR dirp ,
and position the directory stream at the next entry. It returns a null pointer
upon reaching the end of the directory stream.

The
.BR readdir() 
does not return directory entries containing empty names. If entries for
dot or dot-dot exist, they are returned.

The pointer returned by
.BR readdir()
points to data which may be overwritten by another call to 
.BR readdir()
on the same directory stream.
If a file is removed or added to the directory after the most recent call to
.BR opendir() " or " rewinddir() ,
whether a subsequent call to 
.BR readdir()
returns an entry for that file is unspecified.

Applications wishing to check for error situations should set 
.IR errno 
to 0 before calling 
.BR readdir() .
If 
.IR errno
is set to non-zero on return, an error occurred.
.\"
.\"=============================================================================
.\"
.SH "RETURN VALUE"
.\"
Upon successful completion,
.BR readdir() 
returns a pointer to the next directory entry. When an error is encountered,
a null pointer is returned and 
.IR errno
is set to indicate that error. When the end of directory is encountered, a null
pointer is returned and 
.IR errno
is not changed.
.\"
.\"=============================================================================
.\"
.SH ERRORS
.\"
Refer to
.BR malloc(3) 
and
.BR read(2) .
.\"
.\"=============================================================================
.\"
.SH "SEE ALSO"
.\"
.BR closedir(3) ,
.BR malloc(3) ,
.BR opendir(3) ,
.BR read(2)
.\"
.\"=============================================================================
.\"
.SH "CONFORMING TO"
.\"
POSIX.1-2001
.\"
.\"=============================================================================
.\"
.SH AUTHOR
.\"
Pedro H. Penna <pedrohenriquepenna@gmail.com>
.\"
